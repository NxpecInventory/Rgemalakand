@model IEnumerable<RGECMS.Models.Publicmessages>

@{
    ViewBag.Title = "Index";
}
<style>
    table#example.dataTable thead:hover {
        background-color: #8fa5c7;
    }

    table#example.dataTable tbody tr:hover {
        background-color: #b6b6b8;
    }

        table#example.dataTable tbody tr:hover > .sorting_1 {
            background-color: #b6b6b8;
        }
</style>
<script src="~/Scripts/jquery.min.js"></script>

<script src="~/Scripts/bootstrap.min.js"></script>
<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
<h3 style="color:black;">
    Rahman Group Of Education Public  Questions/Query Messages.
</h3>
<div class="alert alert-primary" role="alert">
    <h5 style="color:black;">
        Here You Can See The Peoples who Visted Rehman Group Of Education Website And has issues Questions and any Query For Viewing The Mesage Please Click The View Button To see the New Messages
        (Note The Message Status Will Describe The Status Of The Message If You Seen The message It Will Mark As A readed And iF it is not seen It will marked as a unreaded Message.)
    </h5>
</div>

<div class="form-group">
    <a class="btn btn-primary mt-10" @Html.ActionLink("Add new", "Create")</a>
</div>
<table id="example" class="table table-striped table-bordered" style="width:100%">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.MessageDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Fullname)
            </th>

            <th>
                @Html.DisplayNameFor(model => model.status)
            </th>
            <th>Actions</th>
        </tr>
    </thead>

    @foreach (var item in Model)
    {

        if (item.status == "UnReaded")
        {
            <tr >
                <td>
                    @Html.DisplayFor(modelItem => item.MessageDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Fullname)
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.status)
                </td>
                <td>

                    <a class="btn btn-success" href="@Url.Action("Details", "Publicmessages", new { id = item.Id })"><span class="glyphicon glyphicon glyphicon-th-list"></span></a> |
                    <a class="btn btn-danger" href="@Url.Action("Delete", "Publicmessages", new { id = item.Id })"><span class="glyphicon glyphicon-trash"></span></a>

                </td>

            </tr>
        }
        else
        {
            <thead>
                <tr >
                    <td>
                        @Html.DisplayFor(modelItem => item.MessageDate)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Fullname)
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.status)
                    </td>
                    <td>
                        <a class="btn btn-success" href="@Url.Action("Details", "Publicmessages", new { id = item.Id })"><span class="glyphicon glyphicon glyphicon-th-list"></span></a> |
                        <a class="btn btn-danger" href="@Url.Action("Delete", "Publicmessages", new { id = item.Id })"><span class="glyphicon glyphicon-trash"></span></a>

                    </td>

                </tr>
            </thead>
        }
    }

</table>
<link href="//cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" type="stylesheet" />
<link href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" type="stylesheet" />
@*.................Script side datatable searching and pagination...................*@
@section scripts{
    <script src="//code.jquery.com/jquery-3.3.1.js"></script>

    <script src="//cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>

    <script src="//cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>

    <script>
        $(document).ready(function () {
            $('#example').DataTable()




        });

    </script>
}
